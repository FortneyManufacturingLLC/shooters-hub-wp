import{g as a,i as o,a as s,b as _}from"../match-finder.js";var r={};const n=e=>(e||"").trim(),t=()=>({apiKey:n(r.NEXT_PUBLIC_FIREBASE_API_KEY),authDomain:n(r.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN),projectId:n(r.NEXT_PUBLIC_FIREBASE_PROJECT_ID),storageBucket:n(r.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET),messagingSenderId:n(r.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID),appId:n(r.NEXT_PUBLIC_FIREBASE_APP_ID)}),E=()=>{const e=t();return!!(e.apiKey&&e.projectId&&e.appId)};function p(){const e=t();if(!e)throw new Error("[firebase-app] Firebase client SDK is not configured. Set FIREBASE_CONFIG or NEXT_PUBLIC_FIREBASE_* variables.");return s().length?a():o(e)}function c(){return typeof window<"u"}const I=()=>E();function f(){if(!c()||!I())return null;try{return p()}catch(e){return console.warn("[firebase-client] Failed to initialize Firebase app",e),null}}function u(){const e=f();if(!e)return null;try{return _(e)}catch(i){return console.warn("[firebase-client] Failed to obtain Firestore instance",i),null}}export{u as getDb};
